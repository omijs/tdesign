import{H as y,c as b,B as C,d as h,U as O,f as T}from"./index.c9eddbd2.js";import{l as D}from"./lodash.af94483a.js";import{t as W}from"./marked.esm.01ee1597.js";import{c as Z}from"./common.ae23305e.js";import{T as j}from"./clsx.f76af8a1.js";import"./index.3b42cce8.js";import"./image.c31c35e5.js";import{p as B}from"./parseTNode.6312bff6.js";var G=`.t-avatar{font:var(--td-font-body-medium);color:var(--td-text-color-primary);box-sizing:border-box;margin:0;padding:0;list-style:none;position:relative;display:inline-flex;background:var(--td-brand-color-focus);color:var(--td-text-color-brand);overflow:hidden;white-space:nowrap;vertical-align:middle;justify-content:center;align-items:center;box-sizing:content-box;width:var(--td-comp-size-m);height:var(--td-comp-size-m);font-size:var(--td-font-size-body-large);line-height:var(--td-comp-size-m)}.t-avatar.t-avatar__icon{font-size:var(--td-comp-size-xxs)}.t-avatar--circle{border-radius:var(--td-radius-circle)}.t-avatar--round{border-radius:var(--td-radius-default)}.t-avatar.t-size-s{width:var(--td-comp-size-xs);height:var(--td-comp-size-xs);font-size:var(--td-font-size-body-medium);line-height:var(--td-comp-size-xs)}.t-avatar.t-size-s.t-avatar__icon{font-size:var(--td-comp-size-xxxs)}.t-avatar.t-size-l{width:var(--td-comp-size-xl);height:var(--td-comp-size-xl);font-size:var(--td-font-size-title-large);line-height:var(--td-comp-size-xl)}.t-avatar.t-size-l.t-avatar__icon{font-size:var(--td-comp-size-xs)}.t-avatar>.t-image__wrapper{max-width:100%;max-height:100%}.t-avatar-group{display:inline-flex;align-items:center}.t-avatar-group .t-avatar{border:2px solid var(--td-bg-color-container)}.t-avatar-group.t-avatar--offset-right .t-avatar:not(:last-child){margin-right:calc(0px - var(--td-size-3))}.t-avatar-group.t-avatar--offset-right .t-avatar:not(:last-child).t-size-s{margin-right:calc(0px - var(--td-size-2))}.t-avatar-group.t-avatar--offset-right .t-avatar:not(:last-child).t-size-l{margin-right:calc(0px - var(--td-size-4))}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(1){z-index:49}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(2){z-index:48}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(3){z-index:47}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(4){z-index:46}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(5){z-index:45}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(6){z-index:44}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(7){z-index:43}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(8){z-index:42}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(9){z-index:41}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(10){z-index:40}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(11){z-index:39}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(12){z-index:38}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(13){z-index:37}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(14){z-index:36}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(15){z-index:35}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(16){z-index:34}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(17){z-index:33}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(18){z-index:32}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(19){z-index:31}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(20){z-index:30}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(21){z-index:29}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(22){z-index:28}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(23){z-index:27}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(24){z-index:26}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(25){z-index:25}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(26){z-index:24}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(27){z-index:23}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(28){z-index:22}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(29){z-index:21}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(30){z-index:20}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(31){z-index:19}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(32){z-index:18}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(33){z-index:17}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(34){z-index:16}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(35){z-index:15}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(36){z-index:14}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(37){z-index:13}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(38){z-index:12}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(39){z-index:11}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(40){z-index:10}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(41){z-index:9}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(42){z-index:8}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(43){z-index:7}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(44){z-index:6}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(45){z-index:5}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(46){z-index:4}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(47){z-index:3}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(48){z-index:2}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(49){z-index:1}.t-avatar-group.t-avatar--offset-left .t-avatar:nth-child(50){z-index:0}.t-avatar-group.t-avatar--offset-left .t-avatar:not(:first-child){margin-left:calc(0px - var(--td-size-3))}.t-avatar-group.t-avatar--offset-left .t-avatar:not(:first-child).t-size-s{margin-left:calc(0px - var(--td-size-2))}.t-avatar-group.t-avatar--offset-left .t-avatar:not(:first-child).t-size-l{margin-left:calc(0px - var(--td-size-4))}
`,w=G+W,H=Object.defineProperty,U=Object.getOwnPropertyDescriptor,q=(d,a,r,i)=>{for(var t=i>1?void 0:i?U(a,r):a,n=d.length-1,e;n>=0;n--)(e=d[n])&&(t=(i?e(a,r,t):e(t))||t);return i&&t&&H(a,r,t),t};let c=class extends y{constructor(){super(...arguments),this.scale=1,this.gap=4,this.isImgExist=!0,this.inject=["groupSize"],this.avatarRef=b(),this.avatarChildrenRef=b(),this.SIZE=Z.SIZE,this.componentName=j("avatar"),this.handleScale=()=>{const{avatarChildrenRef:d,avatarRef:a,gap:r}=this;if(!d.current||!a.current)return;const i=a.current,t=d.current,n=i.offsetWidth,e=t.offsetWidth;e!==0&&n!==0&&r*2<n&&(this.scale=n-r*2<e?(n-r*2)/e:1)},this.handleImgLoadError=d=>{const{hideOnLoadFailed:a,onError:r}=this.props;r==null||r(d),a||(this.isImgExist=!1,this.update())}}beforeRender(){this.groupSize=this.injection?this.injection.groupSize:null}installed(){this.handleScale(),this.update()}render(d){const{SIZE:a,componentName:r,isImgExist:i,groupSize:t,avatarRef:n,avatarChildrenRef:e,handleImgLoadError:p}=this,{alt:z,hideOnLoadFailed:o,icon:s,image:v,shape:u,size:m,onError:V,children:P,content:$,style:L,imageProps:E,class:X,...I}=d,l=m===void 0?t:m,N=l&&!a[l]?{width:l,height:l,fontSize:`${Number.parseInt(l,10)/2}px`}:{},R=l&&!a[l]?{width:l,height:l}:{},A=C(r,this.className,{[a[l]]:!!a[l],[`${r}--${u}`]:!!u,[`${r}__icon`]:!!s});let x;if(v&&i)x=h("t-image",{src:v,alt:z,style:R,onError:p,...E});else if(s)x=s;else{const F={transform:`scale(${this.scale})`};x=h("span",{ref:e,style:F},P||$)}return h("div",{ref:n,class:A,style:{...N,...L},...I},x)}};c.css=w;c.defaultProps={hideOnLoadFailed:!1,shape:"circle"};c.propsType={alt:String,hideOnLoadFailed:Boolean,icon:Object,image:String,shape:String,size:String,onError:Function,children:Object,content:Object,style:Object,imageProps:Object};c=q([O("t-avatar")],c);var _=`.t-avatar{border:2px solid var(--td-bg-color-container)}
`,S=`.t-avatar{margin-left:calc(0px - var(--td-size-3))!important}.t-avatar.t-size-s{margin-left:calc(0px - var(--td-size-2))!important}.t-avatar.t-size-l{margin-left:calc(0px - var(--td-size-4))!important}
`,g=`.t-avatar:nth-child(1){z-index:49}.t-avatar:nth-child(2){z-index:48}.t-avatar:nth-child(3){z-index:47}.t-avatar:nth-child(4){z-index:46}.t-avatar:nth-child(5){z-index:45}.t-avatar:nth-child(6){z-index:44}.t-avatar:nth-child(7){z-index:43}.t-avatar:nth-child(8){z-index:42}.t-avatar:nth-child(9){z-index:41}.t-avatar:nth-child(10){z-index:40}.t-avatar:nth-child(11){z-index:39}.t-avatar:nth-child(12){z-index:38}.t-avatar:nth-child(13){z-index:37}.t-avatar:nth-child(14){z-index:36}.t-avatar:nth-child(15){z-index:35}.t-avatar:nth-child(16){z-index:34}.t-avatar:nth-child(17){z-index:33}.t-avatar:nth-child(18){z-index:32}.t-avatar:nth-child(19){z-index:31}.t-avatar:nth-child(20){z-index:30}.t-avatar:nth-child(21){z-index:29}.t-avatar:nth-child(22){z-index:28}.t-avatar:nth-child(23){z-index:27}.t-avatar:nth-child(24){z-index:26}.t-avatar:nth-child(25){z-index:25}.t-avatar:nth-child(26){z-index:24}.t-avatar:nth-child(27){z-index:23}.t-avatar:nth-child(28){z-index:22}.t-avatar:nth-child(29){z-index:21}.t-avatar:nth-child(30){z-index:20}.t-avatar:nth-child(31){z-index:19}.t-avatar:nth-child(32){z-index:18}.t-avatar:nth-child(33){z-index:17}.t-avatar:nth-child(34){z-index:16}.t-avatar:nth-child(35){z-index:15}.t-avatar:nth-child(36){z-index:14}.t-avatar:nth-child(37){z-index:13}.t-avatar:nth-child(38){z-index:12}.t-avatar:nth-child(39){z-index:11}.t-avatar:nth-child(40){z-index:10}.t-avatar:nth-child(41){z-index:9}.t-avatar:nth-child(42){z-index:8}.t-avatar:nth-child(43){z-index:7}.t-avatar:nth-child(44){z-index:6}.t-avatar:nth-child(45){z-index:5}.t-avatar:nth-child(46){z-index:4}.t-avatar:nth-child(47){z-index:3}.t-avatar:nth-child(48){z-index:2}.t-avatar:nth-child(49){z-index:1}.t-avatar:nth-child(50){z-index:0}
`,J=`.t-avatar{margin-right:calc(0px - var(--td-size-3))!important}.t-avatar.t-size-s{margin-right:calc(0px - var(--td-size-2))}.t-avatar.t-size-l{margin-right:calc(0px - var(--td-size-4))}
`,K=Object.defineProperty,M=Object.getOwnPropertyDescriptor,Q=(d,a,r,i)=>{for(var t=i>1?void 0:i?M(a,r):a,n=d.length-1,e;n>=0;n--)(e=d[n])&&(t=(i?e(a,r,t):e(t))||t);return i&&t&&K(a,r,t),t};let f=class extends y{constructor(){super(...arguments),this.preClass=j("avatar"),this.provide={groupSize:void 0}}install(){this.provide={groupSize:this.props.size}}render(d){const{preClass:a}=this,{children:r,max:i,cascading:t,collapseAvatar:n}=d,e=D.exports.toArray(r);e.length>0&&(this.allChildrenList=e.map((o,s)=>{let v=_;return t==="right-up"&&s!==e.length-1?v+=J:t==="left-up"&&s!==0?v+=S+g:t==="left-up"&&(v+=g),T(o,{key:`avatar-group-item-${s}`,css:v})}));const p=C(`${a}-group`,this.className,{[`${a}--offset-right`]:t==="right-up",[`${a}--offset-left`]:t==="left-up"}),z=e.length;if(d.max&&z>i){const o=this.allChildrenList.slice(0,i);let s=_;t==="left-up"&&(s+=S+g);const v=h("t-avatar",{class:`${a}__collapse`,css:s},B(n)||`+${z-i}`," ");return o.push(h("div",{key:"t-avatar__collapse"},v)),h("div",{class:p},o)}return h("div",{class:p},this.allChildrenList)}};f.css=w;f.defaultProps={cascading:"right-up"};f.propTypes={cascading:String,max:Number,size:String,collapseAvatar:Object,children:Object};f=Q([O("t-avatar-group")],f);
