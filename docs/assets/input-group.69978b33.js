import{H as at,c as x,d as c,B as h,U as st}from"./index.1a5ef5a1.js";import{T as f}from"./clsx.f76af8a1.js";import"./lodash.d2e5303e.js";import"./index.288f0663.js";import{p as E}from"./parseTNode.6312bff6.js";import{l as Vt,b as rt,d as Ot}from"./helper.a911249c.js";import"./close-circle-filled.dbf4b431.js";import{t as Wt}from"./marked.esm.01ee1597.js";var Bt=`.input-readonly.t-is-readonly{color:var(--td-text-color-primary);background-color:var(--td-bg-color-specialcomponent)}.input-readonly.t-is-readonly .t-input__inner{cursor:pointer}.input-disabled.t-is-disabled{color:var(--td-text-color-disabled);background-color:var(--td-bg-color-component-disabled)}.input-disabled.t-is-disabled:hover{border-color:var(--td-border-level-2-color)}.input-disabled.t-is-disabled .t-input__inner{cursor:not-allowed;color:var(--td-text-color-disabled)}.input-disabled.t-is-disabled .t-input__inner::placeholder{color:var(--td-text-color-disabled)}.input-disabled.t-is-disabled>.t-input__prefix .t-icon,.input-disabled.t-is-disabled>.t-input__suffix .t-icon{color:var(--td-text-color-disabled)}.t-tips{font-size:var(--td-font-body-small)}.t-tips.t-is-default{color:var(--td-text-color-placeholder)}.t-tips.t-is-error{color:var(--td-error-color)}.t-tips.t-is-warning{color:var(--td-warning-color)}.t-tips.t-is-success{color:var(--td-success-color)}.t-input{margin:0;padding:0;list-style:none;position:relative;height:var(--td-comp-size-m);border-width:1px;border-style:solid;border-radius:var(--td-radius-default);border-color:var(--td-border-level-2-color);padding:0 var(--td-comp-paddingLR-s);background-color:var(--td-bg-color-specialcomponent);outline:none;color:var(--td-text-color-primary);font:var(--td-font-body-medium);width:100%;box-sizing:border-box;transition:border cubic-bezier(.38,0,.24,1) .2s,box-shadow cubic-bezier(.38,0,.24,1) .2s;display:flex;align-items:center;overflow:hidden}.t-input:hover{border-color:var(--td-brand-color)}.t-input:focus{z-index:1;border-color:var(--td-brand-color);box-shadow:0 0 0 2px var(--td-brand-color-focus)}.t-input--focused{border-color:var(--td-brand-color);box-shadow:0 0 0 2px var(--td-brand-color-focus);z-index:1}.t-input :focus-visible{outline:none}.t-input__inner{flex:1;border:none;outline:none;padding:0;max-width:100%;min-width:0;color:var(--td-text-color-primary);font:inherit;background-color:transparent;box-sizing:border-box;white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.t-input__inner::placeholder{color:var(--td-text-color-placeholder)}.t-input__inner:placeholder-shown{text-overflow:ellipsis;width:100%}.t-input__inner[type=password]::-ms-reveal{display:none}.t-input__inner[type=search]::-webkit-search-decoration,.t-input__inner[type=search]::-webkit-search-cancel-button,.t-input__inner[type=search]::-webkit-search-results-button,.t-input__inner[type=search]::-webkit-search-results-decoration{appearance:none}.t-input__extra{font:var(--td-font-body-small);color:var(--td-text-color-placeholder)}.t-input__status{position:absolute;right:-24px;top:0}.t-input.t-input--suffix>span.t-input__clear{opacity:0;visibility:hidden;transition:border cubic-bezier(.38,0,.24,1) .2s,box-shadow cubic-bezier(.38,0,.24,1) .2s}.t-input.t-input--suffix:hover>span.t-input__clear{opacity:1;visibility:visible}.t-input.t-is-success{border-color:var(--td-success-color)}.t-input.t-is-success:focus{box-shadow:0 0 0 2px var(--td-success-color-focus)}.t-input.t-is-success.t-input--focused{box-shadow:0 0 0 2px var(--td-success-color-focus)}.t-input.t-is-success>.t-input__extra{color:var(--td-success-color)}.t-input.t-is-warning{border-color:var(--td-warning-color)}.t-input.t-is-warning:focus{box-shadow:0 0 0 2px var(--td-warning-color-focus)}.t-input.t-is-warning.t-input--focused{box-shadow:0 0 0 2px var(--td-warning-color-focus)}.t-input.t-is-warning>.t-input__extra{color:var(--td-warning-color)}.t-input.t-is-error{border-color:var(--td-error-color)}.t-input.t-is-error:focus{box-shadow:0 0 0 2px var(--td-error-color-focus)}.t-input.t-is-error.t-input--focused{box-shadow:0 0 0 2px var(--td-error-color-focus)}.t-input.t-is-error>.t-input__extra{color:var(--td-error-color)}.t-input.t-is-readonly{color:var(--td-text-color-primary);background-color:var(--td-bg-color-specialcomponent)}.t-input.t-is-readonly .t-input__inner{cursor:pointer}.t-input.t-is-disabled{color:var(--td-text-color-disabled);background-color:var(--td-bg-color-component-disabled)}.t-input.t-is-disabled:hover{border-color:var(--td-border-level-2-color)}.t-input.t-is-disabled .t-input__inner{cursor:not-allowed;color:var(--td-text-color-disabled)}.t-input.t-is-disabled .t-input__inner::placeholder{color:var(--td-text-color-disabled)}.t-input.t-is-disabled>.t-input__prefix .t-icon,.t-input.t-is-disabled>.t-input__suffix .t-icon{color:var(--td-text-color-disabled)}.t-input.t-input--prefix>.t-input__prefix{z-index:2;height:100%;text-align:center;display:flex;align-items:center;font-size:var(--td-font-size-body-medium)}.t-input.t-input--prefix>.t-input__prefix-icon{font-size:var(--td-font-size-body-large)}.t-input.t-input--suffix>.t-input__suffix{z-index:2;height:100%;text-align:center;display:flex;align-items:center;font-size:var(--td-font-size-body-medium)}.t-input.t-input--suffix>.t-input__suffix-icon{font-size:var(--td-font-size-body-large)}.t-input .t-input__suffix-clear{cursor:pointer}.t-input.t-size-l{height:var(--td-comp-size-xl);font:var(--td-font-body-large);padding:var(--td-comp-paddingTB-m) var(--td-comp-paddingLR-m)}.t-input.t-size-s{height:var(--td-comp-size-xs);font:var(--td-font-body-small)}.t-input .t-input__prefix>.t-icon,.t-input .t-input__suffix>.t-icon{font-size:inherit}.t-input .t-input__prefix>.t-icon{font-size:16px;color:var(--td-text-color-placeholder)}.t-input .t-input__prefix:not(:empty){margin-right:var(--td-comp-margin-s)}.t-input .t-input__suffix>.t-icon{color:var(--td-text-color-placeholder);transition:all .2s linear}.t-input .t-input__suffix>.t-icon:hover{color:var(--td-text-color-secondary);transition:all .2s linear}.t-input .t-input__suffix:not(:empty){margin-left:var(--td-comp-margin-s)}.t-input.t-is-focused .t-input__prefix>.t-icon{color:var(--td-brand-color)}.t-input.t-is-focused .t-input__suffix>.t-icon-time,.t-input.t-is-focused .t-input__suffix .t-icon-calendar{color:var(--td-brand-color)}.t-input-group{position:relative;display:inline-flex;align-items:stretch}.t-input-group .t-input__wrap{border-radius:0}.t-input-group .t-input__wrap:first-child{border-radius:var(--td-radius-default) 0 0 var(--td-radius-default)}.t-input-group .t-input__wrap:last-child{border-radius:0 var(--td-radius-default) var(--td-radius-default) 0}.t-input-group .t-button,.t-input-group .t-select{border-radius:0}.t-input-group .t-button:not(:first-child),.t-input-group .t-select:not(:first-child){margin-left:-1px}.t-input-group .t-input__wrap:not(:first-child) .t-input{margin-left:-1px}.t-input-group .t-input__wrap:first-child .t-input{border-radius:var(--td-radius-default) 0 0 var(--td-radius-default)}.t-input-group .t-input__wrap:last-child .t-input{border-radius:0 var(--td-radius-default) var(--td-radius-default) 0}.t-input-group .t-button:first-child,.t-input-group .t-select:first-child{border-radius:var(--td-radius-default) 0 0 var(--td-radius-default)}.t-input-group .t-button:last-child,.t-input-group .t-select:last-child{border-radius:0 var(--td-radius-default) var(--td-radius-default) 0}.t-input-group--separate .t-input__wrap+.t-input__wrap{margin-left:var(--td-comp-margin-xxxl)}.t-input-group--separate .t-button,.t-input-group--separate .t-select{border-radius:var(--td-radius-default)}.t-input-group--separate .t-button:first-child,.t-input-group--separate .t-select:first-child{border-radius:var(--td-radius-default) 0 0 var(--td-radius-default)}.t-input-group--separate .t-button:last-child,.t-input-group--separate .t-select:last-child{border-radius:0 var(--td-radius-default) var(--td-radius-default) 0}.t-input-group--separate .t-input__wrap .t-input,.t-input-group--separate .t-input__wrap .t-input:first-child{border-radius:var(--td-radius-default)}.t-input-group--separate .t-input__wrap .t-input:last-child{border-radius:var(--td-radius-default)}.t-input-group .t-input__inner,.t-input-group .t-button,.t-input-group .t-select{position:relative;z-index:0}.t-input-group .t-input__inner:hover,.t-input-group .t-button:hover,.t-input-group .t-select:hover,.t-input-group .t-input__inner:focus,.t-input-group .t-button:focus,.t-input-group .t-select:focus,.t-input-group .t-input__inner:active,.t-input-group .t-button:active,.t-input-group .t-select:active{z-index:1}.t-input__wrap{width:100%}.t-input__tips{height:auto;min-height:var(--td-line-height-body-small);font:var(--td-font-body-small);position:absolute}.t-input__tips--default{color:var(--td-text-color-placeholder)}.t-input__tips--success{color:var(--td-success-color)}.t-input__tips--warning{color:var(--td-warning-color)}.t-input__tips--error{color:var(--td-error-color)}.t-align-center>.t-input__inner{text-align:center}.t-align-right>.t-input__inner{text-align:right}.t-input__input-pre{position:absolute;visibility:hidden;white-space:pre;display:block}.t-input--auto-width{width:fit-content;min-width:60px}.t-input__limit-number{font:var(--td-font-body-medium);color:var(--td-text-color-placeholder);background:var(--td-bg-color-specialcomponent)}.t-input__limit-number.t-is-disabled{background:var(--td-bg-color-component-disabled)}
`,Ft=`@keyframes t-fade-in{0%{opacity:0}to{opacity:1}}@keyframes t-fade-out{0%{opacity:1}to{opacity:0}}@keyframes t-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.t-icon-loading{animation:t-spin 1s linear infinite}@keyframes t-zoom-out{0%{transform:scale(.2)}to{transform:scale(1)}}.t-tag-input{font:var(--td-font-body-medium);color:var(--td-text-color-primary);box-sizing:border-box;margin:0;padding:0;list-style:none}.t-tag-input .t-tag{vertical-align:middle;animation:t-fade-in .2s ease-in-out;margin:3px var(--td-comp-margin-xs) 3px 0}.t-tag-input .t-tag-input__drag_wrapper+.t-tag-input__drag_wrapper{margin-left:var(--td-comp-margin-xs)}.t-tag-input .t-input{overflow:hidden;min-height:var(--td-comp-size-m);height:fit-content;padding:0 var(--td-comp-paddingLR-s) 0 var(--td-comp-margin-xs)}.t-tag-input .t-input .t-input__suffix-icon{right:var(--td-comp-margin-s)}.t-tag-input .t-input.t-size-s{padding:0 var(--td-comp-paddingLR-xxs) 0 var(--td-comp-margin-xs);min-height:var(--td-comp-size-xs)}.t-tag-input .t-input.t-size-s .t-tag{margin:1px var(--td-comp-margin-xs) 1px 0}.t-tag-input .t-input.t-size-l{min-height:var(--td-comp-size-xl);padding-right:var(--td-comp-paddingLR-m)}.t-tag-input .t-input.t-size-l .t-input__suffix-icon{right:var(--td-comp-margin-m)}.t-tag-input.t-is-empty .t-input__inner{margin-left:var(--td-comp-margin-xs)}.t-tag-input:hover .t-input__inner,.t-tag-input .t-input--focused .t-input__inner{min-width:20px}.t-tag-input .t-tag-input__prefix{margin-left:var(--td-comp-margin-xs);line-height:1}.t-tag-input .t-tag-input__prefix>.t-icon{color:var(--td-text-color-placeholder)}.t-tag-input .t-input .t-input__prefix:not(:empty){margin-right:0}.t-tag-input.t-input--auto-width .t-input.t-input--focused{padding-right:calc(var(--td-comp-paddingLR-xxl) + var(--td-comp-paddingLR-xxs))}.t-tag-input.t-input--auto-width .t-input__prefix{white-space:nowrap}.t-tag-input__suffix-clear{cursor:pointer}.t-tag-input--break-line:not(.t-is-empty) .t-input{display:block}.t-tag-input--break-line:not(.t-is-empty) .t-input.t-input--prefix>.t-input__prefix{display:inline;text-align:left}.t-tag-input--break-line:not(.t-is-empty) .t-input .t-input__suffix-icon{position:absolute;bottom:0}.t-tag-input--break-line:not(.t-is-empty) .t-tag-input__prefix{vertical-align:middle}.t-tag-input__prefix{width:max-content;display:inline-block;margin-right:var(--td-comp-margin-s)}.t-tag-input--break-line.t-tag-input--with-tag:not(.t-input--auto-width) .t-input,.t-tag-input.t-input--auto-width:hover .t-input{padding-right:calc(var(--td-comp-paddingLR-xxl) + var(--td-comp-paddingLR-xxs))}.t-tag-input--break-line.t-tag-input--with-tag:not(.t-input--auto-width) .t-size-l .t-input,.t-tag-input.t-input--auto-width:hover .t-size-l .t-input{padding-right:calc(var(--td-comp-paddingLR-xxl) + var(--td-comp-paddingLR-xs))}.t-tag-input.t-input--auto-width .t-input{padding-right:0}
`,ut=Bt+Ft+Wt;const C=new Set,Dt={warn(t,o){console.warn(`TDesign ${t} Warn: ${o}`)},warnOnce(t,o){const i=`TDesign ${t} Warn: ${o}`;C.has(i)||(C.add(i),console.warn(i))},error(t,o){console.error(`TDesign ${t} Error: ${o}`)},errorOnce(t,o){const i=`TDesign ${t} Error: ${o}`;C.has(i)||(C.add(i),console.error(i))},info(t,o){console.info(`TDesign ${t} Info: ${o}`)}};function M(t){const o=n=>{const{allowInputOverMax:d,maxlength:p,maxcharacter:g}=t;if(!(p||g)||d||!n)return n;if(p)return Vt(n,p);if(g){const w=rt(n,g);if(console.log(w),typeof w=="object")return w.characters}},i=()=>{const{maxlength:n,maxcharacter:d,value:p}=t;return typeof p=="number"?String(p):(n&&d&&Dt.warn("Input","Pick one of maxlength and maxcharacter please."),n?`${p!=null&&p.length?Ot(p):0}/${n}`:d?`${rt(p||"")}/${d}`:"")},a=()=>{if(i()){const[n,d]=i().split("/");return Number(n)>Number(d)?"error":""}return""};return{tStatus:t.status||a(),limitNumber:i,getValueByLimitNumber:o,onValidateChange:()=>{var n;(n=t.onValidate)==null||n.call(t,{error:a()?"exceed-maximum":void 0})}}}var Mt=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Kt=(t,o,i,a)=>{for(var e=a>1?void 0:a?Et(o,i):o,u=t.length-1,n;u>=0;u--)(n=t[u])&&(e=(a?n(o,i,e):n(e))||e);return a&&e&&Mt(o,i,e),e};const l=t=>f("input")+t,et=(t,o,i)=>{const a=E(i),e=i?`${t}-input__${o}-icon`:"";return a?c("span",{class:h(l(`__${o} ${e}`))},a):null},nt=t=>typeof t=="function";let m=class extends at{constructor(){super(...arguments),this.inputRef=x(),this.inputPreRef=x(),this.wrapperRef=x(),this.composingRef=x(),this.composingValue="",this.status="default",this.renderType="",this.isFocused=!1,this.isHover=!1,this.isKeyUpEvent=!1}install(){this.value=this.props.defaultValue||this.props.value,this.status=this.props.status}installed(){let t=this;this.renderType=this.props.type;let o=this.inputRef.current;const i=()=>{if(!this.props.autoWidth||!this.inputRef.current)return;const{offsetWidth:a}=this.inputPreRef.current,{width:e}=this.inputPreRef.current.getBoundingClientRect(),u=e<a?a+1:e;this.inputRef.current.style.width=`${u}px`};t.props.autoWidth&&requestAnimationFrame(()=>{i()}),o.addEventListener("input",a=>{var e,u;if(!t.composingRef.current){const n=a.currentTarget;t.value=n.value;const{getValueByLimitNumber:d,onValidateChange:p}=M({value:t.value===void 0?void 0:String(t.value),status:t.status,maxlength:t.props.maxlength,maxcharacter:t.props.maxcharacter,allowInputOverMax:t.props.allowInputOverMax,onValidate:t.props.onValidate}),g=d(n.value);t.value=g,t.composingValue=g,(u=(e=t.props).onChange)==null||u.call(e,g),t.props.allowInputOverMax||t.update(),t.props.autoWidth&&requestAnimationFrame(()=>{i()}),p()}})}render(t,o){var tt;let i=this;const{type:a,autoWidth:e,placeholder:u,disabled:n,status:d,size:p,class:g,inputClass:w,style:qt,prefixIcon:K,suffixIcon:pt,clearable:lt,tips:dt,align:U,maxlength:j,maxcharacter:H,showClearIconOnEmpty:ct,autofocus:ft,autocomplete:y,readonly:z,label:I,suffix:$,showInput:gt=!0,keepWrapperWidth:ht,showLimitNumber:vt,allowInputOverMax:q,name:At,format:A,onClick:Gt,onClear:S,onEnter:L,onKeydown:Jt,onKeyup:Qt,onKeypress:P,onFocus:T,onBlur:N,onPaste:Xt,onMouseenter:k,onMouseleave:V,onWheel:Yt,onCompositionstart:O,onCompositionend:W,onValidate:G,onChange:_,...mt}=t,{limitNumber:J,getValueByLimitNumber:_t,tStatus:R,onValidateChange:Zt}=M({value:this.value===void 0?void 0:String(this.value),status:d,maxlength:j,maxcharacter:H,allowInputOverMax:q,onValidate:G}),xt=(lt&&this.value&&!n||ct)&&this.isHover,bt=et("t","prefix",E(K));let Q=pt;xt&&(Q=c("t-icon-close-circle-filled",{class:h(l("__suffix-clear")),onClick:Rt}));const X=et("t","suffix",E(Q)),B=nt(I)?I():I,F=nt($)?$():$,Y=J()&&vt?c("div",{class:h(l("__limit-number"),{[f("is-disabled")]:n})},J()):null,D=this.composingRef.current?this.composingValue:(tt=this.value)!=null?tt:"",wt=A&&!this.isFocused?A(D):D,yt=c("input",{...this.eventProps,ref:this.inputRef,placeholder:u,type:this.renderType,class:"t-input__inner",value:wt,readOnly:z,disabled:n,autoComplete:y!=null?y:y||void 0,autoFocus:ft,onChange:Z,onKeyDown:Ct,onKeyUp:It,onKeyPress:St,onCompositionStart:Lt,onCompositionEnd:Pt,onFocus:$t,onBlur:Tt}),zt=c("div",{class:h(f("input"),{[f("is-readonly")]:z,[f("is-disabled")]:n,[f("is-focused")]:this.isFocused,[f("size-s")]:p==="small",[f("size-l")]:p==="large",[f(`align-${U}`)]:U,[f(`is-${R}`)]:R&&R!=="default",[l("--prefix")]:K||B,[l("--suffix")]:X||F,[l("--focused")]:this.isFocused}),onMouseEnter:Nt,onMouseLeave:kt},bt,B?c("div",{class:h(l("__prefix"))},B):null,gt&&yt,e&&c("span",{ref:this.inputPreRef,class:h(l("__input-pre"))},D||u),F||Y?c("div",{class:h(l("__suffix"))},F,Y):null,X);function Z(r){let{value:s}=r.currentTarget;if(i.composingRef.current)i.composingValue=s;else{t.type!=="number"&&(s=_t(s)),i.composingValue=s;const{onValidateChange:v}=M({value:s===void 0?void 0:String(s),status:i.status,maxlength:j,maxcharacter:H,allowInputOverMax:q,onValidate:G});v(),_==null||_(s)}}function Rt(r){let s=r.currentTarget.parentNode.previousSibling;i.composingValue="",i.value="",_==null||_("",{e:r}),S==null||S({e:r}),s.focus()}function Ct(r){var it;const{key:s,currentTarget:v}=r;i.value="",s==="Enter"&&(L==null||L(v.value,{e:r})),console.log("ui",r),(it=t.onMyKeydown)==null||it.call(t,v.value,{e:r})}function It(r){var v;const{currentTarget:s}=r;(v=t.onMyKeyup)==null||v.call(t,s.value,{e:r})}function $t(r){if(z)return;const{currentTarget:s}=r;T==null||T(s.value,{e:r}),i.isFocused=!0,i.update()}function St(r){const{currentTarget:s}=r;P==null||P(s.value,{e:r})}function Lt(r){i.composingRef.current=!0;const{currentTarget:s}=r;O==null||O(s.value,{e:r})}function Pt(r){const{currentTarget:s}=r;i.composingRef.current&&(i.composingRef.current=!1,Z(r)),W==null||W(s.value,{e:r})}function Tt(r){if(z)return;const{currentTarget:s}=r;N==null||N(s.value,{e:r}),i.isFocused=!1,i.update()}function Nt(r){i.isHover=!0,i.update(),k==null||k({e:r})}function kt(r){i.isHover=!1,i.update(),V==null||V({e:r})}return c("div",{class:h(l("__wrap"),{[l("--auto-width")]:e&&!ht},g),ref:this.wrapperRef,part:"wrap",...mt},zt,c("div",{class:h("t-input__tips",l(`__tips--${R||"default"}`))},dt))}};m.tagStyle=`.t-tag-input t-tag::part(my-part) {
    vertical-align: middle;
    -webkit-animation: t-fade-in .2s ease-in-out;
    animation: t-fade-in .2s ease-in-out;
    margin: 3px var(--td-comp-margin-xs) 3px 0;
    }
    .t-tag-input t-tag[size="small"]::part(my-part) {
      margin: 1px var(--td-comp-margin-xs) 1px 0;
    }
  `;m.css=ut+m.tagStyle;m.defaultProps={align:"left",allowInputOverMax:!1,autoWidth:!1,autocomplete:void 0,autofocus:!1,clearable:!1,placeholder:"\u8BF7\u8F93\u5165",readonly:!1,showClearIconOnEmpty:!1,showLimitNumber:!1,size:"medium",status:void 0,type:"text",defaultValue:""};m.propTypes={allowInputOverMax:Boolean,autoWidth:Boolean,autofocus:Boolean,clearable:Boolean,disabled:Boolean,align:String,autocomplete:String,value:String};m=Kt([st("t-input")],m);var Ut=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,Ht=(t,o,i,a)=>{for(var e=a>1?void 0:a?jt(o,i):o,u=t.length-1,n;u>=0;u--)(n=t[u])&&(e=(a?n(o,i,e):n(e))||e);return a&&e&&Ut(o,i,e),e};const ot=t=>f("input")+t;let b=class extends at{constructor(){super(...arguments),this.divRef=x()}install(){console.log(this.props)}render(t,o){const{separate:i,children:a,...e}=t;return c("div",{ref:this.divRef,style:{width:"100%"},class:h(ot("-group"),{[ot("-group--separate")]:!!i}),...e},a)}};b.addStyle=`.t-input-group--separate t-input{
    margin-left: var(--td-comp-margin-xxxl);
  }`;b.css=ut+b.addStyle;b=Ht([st("t-input-group")],b);export{Bt as i,Ft as t};
