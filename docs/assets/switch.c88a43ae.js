import{W as _,V as k,p as r,$ as y}from"./index.1013dd05.js";import{t as C}from"./marked.esm.01ee1597.js";import{c as v}from"./common.a9679348.js";import{T as V}from"./clsx.f76af8a1.js";import"./lodash.7222df35.js";import"./index.1b6b9343.js";import{p as m}from"./parseTNode.6312bff6.js";import"./loading.49d516a2.js";var S=`.t-switch{font:var(--td-font-body-medium);color:var(--td-text-color-primary);box-sizing:border-box;list-style:none;position:relative;display:inline-flex;vertical-align:middle;align-items:center;outline:none;border:0;padding:0;margin:0;height:var(--td-comp-size-xxs);line-height:var(--td-comp-size-xxs);border-radius:var(--td-radius-round);min-width:calc(var(--td-comp-size-xxs) / .618);transition:all .2s cubic-bezier(.38,0,.24,1);background-color:var(--td-bg-color-secondarycomponent);cursor:pointer;user-select:none}.t-switch:hover{background-color:var(--td-bg-color-secondarycomponent-hover)}.t-switch__handle{position:absolute;display:flex;align-items:center;justify-content:center;top:4px;left:4px;width:calc(var(--td-comp-size-xxs) - 2 * 4px);height:calc(var(--td-comp-size-xxs) - 2 * 4px);border-radius:var(--td-radius-round);transition:all .2s cubic-bezier(.38,0,.24,1);box-shadow:var(--td-shadow-1)}.t-switch__handle .t-icon{font-size:calc(var(--td-comp-size-xxs) - 4px);color:transparent}.t-switch__handle:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:var(--td-radius-round);background-color:#fff;transition:all .2s cubic-bezier(.38,0,.24,1)}.t-switch:active:not(.t-is-disabled):not(.t-is-loading) .t-switch__handle:before{left:0;right:-6px}.t-switch:active:not(.t-is-disabled):not(.t-is-loading).t-is-checked .t-switch__handle:before{right:0;left:-6px}.t-switch:active:not(.t-is-disabled):not(.t-is-loading) .t-switch__content{opacity:0}.t-switch__content{box-sizing:border-box;display:inline-flex;align-items:center;color:var(--td-text-color-anti);padding:0 var(--td-comp-margin-xs) 0 calc(calc(var(--td-comp-size-xxs) / .618) / 2 + 2px);font-size:var(--td-font-size-body-small);min-width:calc(var(--td-comp-size-xxs) / .618);transition:padding .2s cubic-bezier(.38,0,.24,1),opacity .2s linear}.t-switch__content .t-icon{font-size:var(--td-font-size-body-large)}.t-switch.t-is-checked{background-color:var(--td-brand-color)}.t-switch.t-is-checked:hover{background-color:var(--td-brand-color-hover)}.t-switch.t-is-checked .t-switch__handle{left:calc(100% - 2.5px);transform:translate(-100%);width:calc(var(--td-comp-size-xxs) - 2 * 2.5px);height:calc(var(--td-comp-size-xxs) - 2 * 2.5px);top:2.5px}.t-switch.t-is-checked .t-switch__content{padding:0 calc(calc(var(--td-comp-size-xxs) / .618) / 2 + 2px) 0 var(--td-comp-margin-xs);color:var(--td-text-color-anti)}.t-switch.t-is-loading{cursor:not-allowed;background-color:var(--td-bg-color-component-disabled)}.t-switch.t-is-loading .t-loading{display:inline-flex}.t-switch.t-is-loading .t-switch__handle .t-icon{color:var(--td-bg-color-component-disabled)}.t-switch.t-is-loading.t-is-checked{background-color:var(--td-brand-color-focus)}.t-switch.t-is-loading.t-is-checked .t-switch__handle .t-icon{color:var(--td-brand-color-focus)}.t-switch.t-is-disabled{cursor:not-allowed;background-color:var(--td-bg-color-component-disabled)}.t-switch.t-is-disabled .t-switch__handle{box-shadow:none}.t-switch.t-is-disabled.t-is-checked{background-color:var(--td-brand-color-disabled)}.t-switch.t-is-disabled.t-is-checked .t-switch__handle{box-shadow:none}.t-switch.t-is-disabled.t-is-checked .t-switch__handle .t-icon{color:var(--td-brand-color-disabled)}.t-switch.t-size-l{min-width:calc(var(--td-comp-size-xs) / .618);height:var(--td-comp-size-xs);line-height:var(--td-comp-size-xs);border-radius:var(--td-radius-round)}.t-switch.t-size-l:active:not(.t-is-disabled):not(.t-is-loading) .t-switch__handle:before{left:0;right:-8px}.t-switch.t-size-l:active:not(.t-is-disabled):not(.t-is-loading).t-is-checked .t-switch__handle:before{right:0;left:-8px}.t-switch.t-size-l .t-switch__handle{top:5px;left:5px;width:calc(var(--td-comp-size-xs) - 2 * 5px);height:calc(var(--td-comp-size-xs) - 2 * 5px)}.t-switch.t-size-l .t-switch__handle .t-icon{font-size:calc(var(--td-comp-size-xs) - 4px)}.t-switch.t-size-l .t-switch__content{padding:0 var(--td-comp-margin-s) 0 calc(calc(var(--td-comp-size-xs) / .618) / 2 + 4px);min-width:calc(var(--td-comp-size-xs) / .618);font-size:9px}.t-switch.t-size-l .t-switch__content .t-icon{font-size:var(--td-font-size-body-large)}.t-switch.t-size-l.t-is-checked .t-switch__handle{left:calc(100% - 3px);top:3px;width:calc(var(--td-comp-size-xs) - 2 * 3px);height:calc(var(--td-comp-size-xs) - 2 * 3px)}.t-switch.t-size-l.t-is-checked .t-switch__content{padding:0 calc(calc(var(--td-comp-size-xs) / .618) / 2 + 4px) 0 var(--td-comp-margin-s)}.t-switch.t-size-s{min-width:calc(var(--td-comp-size-xxxs) / .618);height:var(--td-comp-size-xxxs);line-height:var(--td-comp-size-xxxs);border-radius:var(--td-radius-round)}.t-switch.t-size-s:active:not(.t-is-disabled):not(.t-is-loading) .t-switch__handle:before{left:0;right:-4px}.t-switch.t-size-s:active:not(.t-is-disabled):not(.t-is-loading).t-is-checked .t-switch__handle:before{right:0;left:-4px}.t-switch.t-size-s .t-switch__handle{top:3px;left:3px;width:calc(var(--td-comp-size-xxxs) - 2 * 3px);height:calc(var(--td-comp-size-xxxs) - 2 * 3px)}.t-switch.t-size-s .t-switch__handle .t-icon{font-size:calc(var(--td-comp-size-xxxs) - 4px)}.t-switch.t-size-s .t-switch__content{padding:0 var(--td-comp-margin-xxs) 0 calc(calc(var(--td-comp-size-xxxs) / .618) / 2 + 2px);min-width:calc(var(--td-comp-size-xxxs) / .618);font-size:9px}.t-switch.t-size-s .t-switch__content .t-icon{font-size:var(--td-font-size-body-large)}.t-switch.t-size-s.t-is-checked .t-switch__handle{left:calc(100% - 2px);top:2px;width:calc(var(--td-comp-size-xxxs) - 2 * 2px);height:calc(var(--td-comp-size-xxxs) - 2 * 2px)}.t-switch.t-size-s.t-is-checked .t-switch__content{padding:0 calc(calc(var(--td-comp-size-xxxs) / .618) / 2 + 2px) 0 var(--td-comp-margin-xxs)}
`,T=S+C,A=Object.defineProperty,N=Object.getOwnPropertyDescriptor,P=(c,i,e,s)=>{for(var t=s>1?void 0:s?N(i,e):i,o=c.length-1,a;o>=0;o--)(a=c[o])&&(t=(s?a(i,e,t):a(t))||t);return s&&t&&A(i,e,t),t};let n=class extends _{constructor(){super(...arguments),this.componentName=V("switch"),this.SIZE=v.SIZE,this.STATUS=v.STATUS}install(){const{customValue:c,defaultValue:i,value:e}=this.props;c?(this.activeValue=c[0],this.inactiveValue=c[1]):(this.activeValue=!0,this.inactiveValue=!1),this.isControlled=typeof e!="undefined";const s=i===this.activeValue||e===this.activeValue;this.innerChecked=s}onInternalClick(c){const{isControlled:i,activeValue:e,inactiveValue:s}=this,{disabled:t,onChange:o}=this.props;if(t)return;i||(this.innerChecked=!this.innerChecked);const a=this.innerChecked?s:e;o==null||o(a,{e:c}),this.update()}beforeUpdate(){const{isControlled:c,activeValue:i,inactiveValue:e}=this,{value:s,customValue:t}=this.props;Array.isArray(t)&&!t.includes(s)&&console.error("Switch",`value is not in customValue: ${JSON.stringify(t)}`),c&&(this.innerChecked=s===i)}render(c){const{componentName:i,STATUS:e,SIZE:s,innerChecked:t,onInternalClick:o}=this,{class:a,value:p,defaultValue:O,disabled:x,loading:d,size:w,label:l,customValue:I,onChange:j,...b}=c,u=k(i,a,{[e.checked]:t,[e.disabled]:x,[e.loading]:d},s[w]),g=h=>{if(Array.isArray(l)){const[z="",f=""]=l;return m(h?z:f,{value:p})}return m(l,{value:p})};return r("button",{...b,type:"button",role:"switch",disabled:x||d,class:u,onClick:h=>{o.bind(this)(h)}},r("span",{class:`${i}__handle`},d&&r("t-loading",{loading:!0,size:"small"})),r("div",{class:`${i}__content`},g(t)))}};n.css=T;n.defaultProps={label:[],loading:!1,size:"medium"};n.propTypes={customValue:Array,disabled:Boolean,label:[Array,Object],loading:Boolean,size:String,value:[String,Number,Boolean],defaultValue:[String,Number,Boolean],onChange:Function};n=P([y("t-switch")],n);
